function JQueryAjaxForm(n,t,i){var u=n,r;IsDefined(i)&&IsDefined(i.target)&&(u=i.target);r={target:u,replaceTarget:!0,type:"POST",clearForm:!0};$.extend(!0,r,i||{});r.beforeSend=function(){BlockElement(u)};r.complete=function(){UnblockElement(u)};$(n+" "+t).ajaxForm(r)}function IsDefined(n){return typeof n!="undefined"}function BlockElement(n){$(n).block({css:{width:"32px",height:"32px"},message:'<img src="/Images/wait.gif" alt="wait"/>'})}function UnblockElement(n){$(n).unblock();ResetCursor()}function ResetCursor(){document.body.style.cursor="auto"}onclicktext=function(n){var t;return window.event?t=n.keyCode:n.which&&(t=n.which),n.type=="click"||n.type=="keypress"&&t==13?!1:!0};
/*!
* jQuery blockUI plugin
* Version 2.39 (23-MAY-2011)
* @requires jQuery v1.2.3 or later
*
* Examples at: http://malsup.com/jquery/block/
* Copyright (c) 2007-2010 M. Alsup
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* Thanks to Amir-Hossein Sobhi for some excellent contributions!
*/
(function(n){function s(f,s){var l=f==window,h=s&&s.message!==undefined?s.message:undefined,nt,tt,k,w,rt,ut,ft,lt;s=n.extend({},n.blockUI.defaults,s||{});s.overlayCSS=n.extend({},n.blockUI.defaults.overlayCSS,s.overlayCSS||{});nt=n.extend({},n.blockUI.defaults.css,s.css||{});tt=n.extend({},n.blockUI.defaults.themedCSS,s.themedCSS||{});h=h===undefined?s.message:h;l&&t&&e(window,{fadeOut:0});h&&typeof h!="string"&&(h.parentNode||h.jquery)&&(k=h.jquery?h[0]:h,w={},n(f).data("blockUI.history",w),w.el=k,w.parent=k.parentNode,w.display=k.style.display,w.position=k.style.position,w.parent&&w.parent.removeChild(k));n(f).data("blockUI.onUnblock",s.onUnblock);var b=s.baseZ,g=n.browser.msie||s.forceIframe?n('<iframe class="blockUI" style="z-index:'+b+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+s.iframeSrc+'"><\/iframe>'):n('<div class="blockUI" style="display:none"><\/div>'),d=s.theme?n('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+b+++';display:none"><\/div>'):n('<div class="blockUI blockOverlay" style="z-index:'+b+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),p,it;if(it=s.theme&&l?'<div class="blockUI '+s.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(b+10)+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+'<\/div><div class="ui-widget-content ui-dialog-content"><\/div><\/div>':s.theme?'<div class="blockUI '+s.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(b+10)+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+'<\/div><div class="ui-widget-content ui-dialog-content"><\/div><\/div>':l?'<div class="blockUI '+s.blockMsgClass+' blockPage" style="z-index:'+(b+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+s.blockMsgClass+' blockElement" style="z-index:'+(b+10)+';display:none;position:absolute"><\/div>',p=n(it),h&&(s.theme?(p.css(tt),p.addClass("ui-widget-content")):p.css(nt)),s.theme||s.applyPlatformOpacityRules&&n.browser.mozilla&&/Linux/.test(navigator.platform)||d.css(s.overlayCSS),d.css("position",l?"fixed":"absolute"),(n.browser.msie||s.forceIframe)&&g.css("opacity",0),rt=[g,d,p],ut=l?n("body"):n(f),n.each(rt,function(){this.appendTo(ut)}),s.theme&&s.draggable&&n.fn.draggable&&p.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),ft=v&&(!n.boxModel||n("object,embed",l?null:f).length>0),o||ft){if(l&&s.allowBodyStretch&&n.boxModel&&n("html,body").css("height","100%"),(o||!n.boxModel)&&!l)var et=r(f,"borderTopWidth"),ot=r(f,"borderLeftWidth"),st=et?"(0 - "+et+")":0,ht=ot?"(0 - "+ot+")":0;n.each([g,d,p],function(n,t){var i=t[0].style,r,u;i.position="absolute";n<2?(l?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+s.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),l?i.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),ht&&i.setExpression("left",ht),st&&i.setExpression("top",st)):s.centerY?(l&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0):!s.centerY&&l&&(r=s.css&&s.css.top?parseInt(s.css.top):0,u="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"',i.setExpression("top",u))})}if(h&&(s.theme?p.find(".ui-widget-content").append(h):p.append(h),(h.jquery||h.nodeType)&&n(h).show()),(n.browser.msie||s.forceIframe)&&s.showOverlay&&g.show(),s.fadeIn){var ct=s.onBlock?s.onBlock:u,at=s.showOverlay&&!h?ct:u,vt=h?ct:u;s.showOverlay&&d._fadeIn(s.fadeIn,at);h&&p._fadeIn(s.fadeIn,vt)}else s.showOverlay&&d.show(),h&&p.show(),s.onBlock&&s.onBlock();c(1,f,s);l?(t=p[0],i=n(":input:enabled:visible",t),s.focusInput&&setTimeout(a,20)):y(p[0],s.centerX,s.centerY);s.timeout&&(lt=setTimeout(function(){l?n.unblockUI(s):n(f).unblock(s)},s.timeout),n(f).data("blockUI.timeout",lt))}function e(r,u){var o=r==window,f=n(r),s=f.data("blockUI.history"),l=f.data("blockUI.timeout"),e;l&&(clearTimeout(l),f.removeData("blockUI.timeout"));u=n.extend({},n.blockUI.defaults,u||{});c(0,r,u);u.onUnblock===null&&(u.onUnblock=f.data("blockUI.onUnblock"),f.removeData("blockUI.onUnblock"));e=o?n("body").children().filter(".blockUI").add("body > .blockUI"):n(".blockUI",r);o&&(t=i=null);u.fadeOut?(e.fadeOut(u.fadeOut),setTimeout(function(){h(e,s,u,r)},u.fadeOut)):h(e,s,u,r)}function h(t,i,r,u){if(t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),n(u).removeData("blockUI.history")),typeof r.onUnblock=="function")r.onUnblock(u,r)}function c(i,r,u){var f=r==window,o=n(r),e;(i||(!f||t)&&(f||o.data("blockUI.isBlocked")))&&(f||o.data("blockUI.isBlocked",i),u.bindEvents&&(!i||u.showOverlay))&&(e="mousedown mouseup keydown keypress",i?n(document).bind(e,u,l):n(document).unbind(e,l))}function l(r){var e;if(r.keyCode&&r.keyCode==9&&t&&r.data.constrainTabKey){var u=i,o=!r.shiftKey&&r.target===u[u.length-1],f=r.shiftKey&&r.target===u[0];if(o||f)return setTimeout(function(){a(f)},10),!1}return(e=r.data,n(r.target).parents("div."+e.blockMsgClass).length>0)?!0:n(r.target).parents().children().filter("div.blockUI").length==0}function a(n){if(i){var t=i[n===!0?i.length-1:0];t&&t.focus()}}function y(n,t,i){var u=n.parentNode,f=n.style,e=(u.offsetWidth-n.offsetWidth)/2-r(u,"borderLeftWidth"),o=(u.offsetHeight-n.offsetHeight)/2-r(u,"borderTopWidth");t&&(f.left=e>0?e+"px":"0");i&&(f.top=o>0?o+"px":"0")}function r(t,i){return parseInt(n.css(t,i))||0}var t,i;if(/1\.(0|1|2)\.(0|1|2)/.test(n.fn.jquery)||/^1.1/.test(n.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+n.fn.jquery);return}n.fn._fadeIn=n.fn.fadeIn;var u=function(){},f=document.documentMode||0,v=n.browser.msie&&(n.browser.version<8&&!f||f<8),o=n.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!f;n.blockUI=function(n){s(window,n)};n.unblockUI=function(n){e(window,n)};n.growlUI=function(t,i,r,u){var f=n('<div class="growlUI"><\/div>');t&&f.append("<h1>"+t+"<\/h1>");i&&f.append("<h2>"+i+"<\/h2>");r==undefined&&(r=3e3);n.blockUI({message:f,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:r,showOverlay:!1,onUnblock:u,css:n.blockUI.defaults.growlCSS})};n.fn.block=function(t){return this.unblock({fadeOut:0}).each(function(){n.css(this,"position")=="static"&&(this.style.position="relative");n.browser.msie&&(this.style.zoom=1);s(this,t)})};n.fn.unblock=function(n){return this.each(function(){e(this,n)})};n.blockUI.version=2.39;n.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,applyPlatformOpacityRules:!0,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"};t=null;i=[]})(jQuery);
/*!
* jQuery Form Plugin
* version: 2.95 (30-JAN-2012)
* @requires jQuery v1.3.2 or later
*
* Examples and documentation at: http://malsup.com/jquery/form/
* Dual licensed under the MIT and GPL licenses:
*	http://www.opensource.org/licenses/mit-license.php
*	http://www.gnu.org/licenses/gpl.html
*/
(function(n){function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}n.fn.ajaxSubmit=function(i){function nt(t){for(var o,f,s,e=new FormData,u=0;u<t.length;u++)t[u].type!="file"&&e.append(t[u].name,t[u].value);if(r.find("input:file:enabled").each(function(){var i=n(this).attr("name"),r=this.files,t;if(i)for(t=0;t<r.length;t++)e.append(i,r[t])}),i.extraData)for(o in i.extraData)e.append(o,i.extraData[o]);i.data=null;f=n.extend(!0,{},n.ajaxSettings,i,{contentType:!1,processData:!1,cache:!1,type:"POST"});f.data=null;s=f.beforeSend;f.beforeSend=function(n,t){t.data=e;n.upload&&(n.upload.onprogress=function(n){t.progress(n.position,n.total)});s&&s.call(t,n,i)};n.ajax(f)}function g(u){function ut(n){return n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}function ft(){function a(){try{var n=ut(l).readyState;t("state = "+n);n.toLowerCase()=="uninitialized"&&setTimeout(a,50)}catch(i){t("Server abort: ",i," (",i.name,")");p(g);k&&clearTimeout(k);k=undefined}}var e=r.attr("target"),o=r.attr("action"),i,u;h.setAttribute("target",b);s||h.setAttribute("method","POST");o!=f.url&&h.setAttribute("action",f.url);f.skipEncodingOverride||s&&!/post/i.test(s)||r.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&(k=setTimeout(function(){nt=!0;p(tt)},f.timeout));i=[];try{if(f.extraData)for(u in f.extraData)i.push(n('<input type="hidden" name="'+u+'">').attr("value",f.extraData[u]).appendTo(h)[0]);f.iframeTarget||(c.appendTo("body"),l.attachEvent?l.attachEvent("onload",p):l.addEventListener("load",p,!1));setTimeout(a,15);h.submit()}finally{h.setAttribute("action",o);e?h.setAttribute("target",e):r.removeAttr("target");n(i).remove()}}function p(i){var r,u,w,s,b,d,h,a,y;if(!e.aborted&&!st){try{o=ut(l)}catch(it){t("cannot access response document: ",it);i=g}if(i===tt&&e){e.abort("timeout");return}if(i==g&&e){e.abort("server abort");return}if(o&&o.location.href!=f.iframeSrc||nt){l.detachEvent?l.detachEvent("onload",p):l.removeEventListener("load",p,!1);r="success";try{if(nt)throw"timeout";if(w=f.dataType=="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+w),!w&&window.opera&&(o.body==null||o.body.innerHTML=="")&&--ot){t("requeing onLoad callback, DOM not available");setTimeout(p,250);return}s=o.body?o.body:o.documentElement;e.responseText=s?s.innerHTML:null;e.responseXML=o.XMLDocument?o.XMLDocument:o;w&&(f.dataType="xml");e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n]};s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText);b=(f.dataType||"").toLowerCase();d=/(json|script|text)/.test(b);d||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):d&&(a=o.getElementsByTagName("pre")[0],y=o.getElementsByTagName("body")[0],a?e.responseText=a.textContent?a.textContent:a.innerText:y&&(e.responseText=y.textContent?y.textContent:y.innerText))):b!="xml"||e.responseXML||e.responseText==null||(e.responseXML=ct(e.responseText));try{et=at(e,b,f)}catch(i){r="parsererror";e.error=u=i||r}}catch(i){t("error caught: ",i);r="error";e.error=u=i||r}e.aborted&&(t("upload aborted"),r=null);e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error");r==="success"?(f.success&&f.success.call(f.context,et,"success",e),v&&n.event.trigger("ajaxSuccess",[e,f])):r&&(u==undefined&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),v&&n.event.trigger("ajaxError",[e,f,u]));v&&n.event.trigger("ajaxComplete",[e,f]);v&&!--n.active&&n.event.trigger("ajaxStop");f.complete&&f.complete.call(f.context,e,r);st=!0;f.timeout&&clearTimeout(k);setTimeout(function(){f.iframeTarget||c.remove();e.responseXML=null},100)}}}var h=r[0],d,a,f,v,b,c,l,e,w,y,nt,k,ht=!!n.fn.prop,tt,g,it,rt,et,o,ot,st;if(u)if(ht)for(a=0;a<u.length;a++)d=n(h[u[a].name]),d.prop("disabled",!1);else for(a=0;a<u.length;a++)d=n(h[u[a].name]),d.removeAttr("disabled");if(n(":input[name=submit],:input[id=submit]",h).length){alert('Error: Form elements must not have name or id of "submit".');return}if(f=n.extend(!0,{},n.ajaxSettings,i),f.context=f.context||f,b="jqFormIO"+(new Date).getTime(),f.iframeTarget?(c=n(f.iframeTarget),y=c.attr("name"),y==null?c.attr("name",b):b=y):(c=n('<iframe name="'+b+'" src="'+f.iframeSrc+'" />'),c.css({position:"absolute",top:"-1000px",left:"-1000px"})),l=c[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;c.attr("src",f.iframeSrc);e.error=r;f.error&&f.error.call(f.context,e,r,i);v&&n.event.trigger("ajaxError",[e,f,r]);f.complete&&f.complete.call(f.context,e,r)}},v=f.global,v&&!n.active++&&n.event.trigger("ajaxStart"),v&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1){f.global&&n.active--;return}if(!e.aborted){w=h.clk;w&&(y=w.name,y&&!w.disabled&&(f.extraData=f.extraData||{},f.extraData[y]=w.value,w.type=="image"&&(f.extraData[y+".x"]=h.clk_x,f.extraData[y+".y"]=h.clk_y)));tt=1;g=2;it=n("meta[name=csrf-token]").attr("content");rt=n("meta[name=csrf-param]").attr("content");rt&&it&&(f.extraData=f.extraData||{},f.extraData[rt]=it);f.forceSync?ft():setTimeout(ft,10);ot=50;var ct=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},lt=n.parseJSON||function(n){return window.eval("("+n+")")},at=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=lt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u}}}var s,a,u,r,h,c,l,f,o,e,p,d;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(r=this,typeof i=="function"&&(i={success:i}),s=this.attr("method"),a=this.attr("action"),u=typeof a=="string"?n.trim(a):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),i=n.extend(!0,{url:u,success:n.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i),h={},this.trigger("form-pre-serialize",[this,i,h]),h.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&i.beforeSerialize(this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(c=i.traditional,c===undefined&&(c=n.ajaxSettings.traditional),f=this.formToArray(i.semantic),i.data&&(i.extraData=i.data,l=n.param(i.data,c)),i.beforeSubmit&&i.beforeSubmit(f,this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,i,h]),h.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;o=n.param(f,c);l&&(o=o?o+"&"+l:l);i.type.toUpperCase()=="GET"?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+o,i.data=null):i.data=o;e=[];i.resetForm&&e.push(function(){r.resetForm()});i.clearForm&&e.push(function(){r.clearForm(i.includeHidden)});!i.dataType&&i.target?(p=i.success||function(){},e.push(function(t){var r=i.replaceTarget?"replaceWith":"html";n(i.target)[r](t).each(p,arguments)})):i.success&&e.push(i.success);i.success=function(n,t,u){for(var o=i.context||i,f=0,s=e.length;f<s;f++)e[f].apply(o,[n,t,u||r,r])};var w=n("input:file:enabled[value]",this),v=w.length>0,b="multipart/form-data",k=r.attr("enctype")==b||r.attr("encoding")==b,y=!!(v&&w.get(0).files&&window.FormData);return t("fileAPI :"+y),d=(v||k)&&!y,i.iframe!==!1&&(i.iframe||d)?i.closeKeepAlive?n.get(i.closeKeepAlive,function(){g(f)}):g(f):(v||k)&&y?(i.progress=i.progress||n.noop,nt(f)):n.ajax(i),this.trigger("form-submit-notify",[this,i]),this};n.fn.ajaxForm=function(i){if(this.length===0){var r={s:this.selector,c:this.context};return!n.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(r.s,r.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}).bind("click.form-plugin",function(t){var r=t.target,u=n(r),f,i,e;if(!u.is(":submit,input:image")){if(f=u.closest(":submit"),f.length==0)return;r=f[0]}i=this;i.clk=r;r.type=="image"&&(t.offsetX!=undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)})};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t){var f=[],r,o,s,h,i,e,u,a,v,l,c;if(this.length===0||(r=this[0],o=t?r.getElementsByTagName("*"):r.elements,!o))return f;for(s=0,a=o.length;s<a;s++)if(u=o[s],i=u.name,i){if(t&&r.clk&&u.type=="image"){u.disabled||r.clk!=u||(f.push({name:i,value:n(u).val(),type:u.type}),f.push({name:i+".x",value:r.clk_x},{name:i+".y",value:r.clk_y}));continue}if(e=n.fieldValue(u,!0),e&&e.constructor==Array)for(h=0,v=e.length;h<v;h++)f.push({name:i,value:e[h]});else e!==null&&typeof e!="undefined"&&f.push({name:i,value:e,type:u.type})}return!t&&r.clk&&(l=n(r.clk),c=l[0],i=c.name,i&&!c.disabled&&c.type=="image"&&(f.push({name:i,value:l.val()}),f.push({name:i+".x",value:r.clk_x},{name:i+".y",value:r.clk_y}))),f};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(n){var t=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();t.test(i)||r=="textarea"||n&&/hidden/.test(i)?this.value="":i=="checkbox"||i=="radio"?this.checked=!1:r=="select"&&(this.selectedIndex=-1)})};n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1})(jQuery);
/*!
 * jQuery clueTip plugin v1.2.5
 *
 * Date: Sun Jun 10 17:51:13 2012 EDT
 * Requires: jQuery v1.3+
 *
 * Copyright 2012, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 * Examples can be found at http://plugins.learningjquery.com/cluetip/demo/
 *
*/
(function(n){n.cluetip={version:"1.2.5",template:'<div><div class="cluetip-outer"><h3 class="cluetip-title ui-widget-header ui-cluetip-header"><\/h3><div class="cluetip-inner ui-widget-content ui-cluetip-content"><\/div><\/div><div class="cluetip-extra"><\/div><div class="cluetip-arrows ui-state-default"><\/div><\/div>',setup:{insertionType:"appendTo",insertionElement:"body"},defaults:{multiple:!1,width:275,height:"auto",cluezIndex:97,positionBy:"auto",topOffset:15,leftOffset:15,local:!1,localPrefix:null,localIdSuffix:null,hideLocal:!0,attribute:"rel",titleAttribute:"title",splitTitle:"",escapeTitle:!1,showTitle:!0,cluetipClass:"default",hoverClass:"",waitImage:!0,cursor:"help",arrows:!1,dropShadow:!0,dropShadowSteps:6,sticky:!1,mouseOutClose:!1,activation:"hover",clickThrough:!0,tracking:!1,delayedClose:0,closePosition:"top",closeText:"Close",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(){return!0},onShow:function(){},onHide:function(){},ajaxCache:!0,ajaxProcess:function(n){return n.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,"").replace(/<(link|meta)[^>]+>/g,"")},ajaxSettings:{dataType:"html"},debug:!1}};var t,f="cluetip ui-widget ui-widget-content ui-cluetip",i={},u=0,r=0;n.fn.attrProp=n.fn.prop||n.fn.attr;n.fn.cluetip=function(e,o){function tt(t,i){var r=t||"";return i=i||"",typeof i=="object"?n.each(i,function(n,t){r+="-"+n+"-"+t}):typeof i=="string"&&(r+=i),r}function it(t,i){var o="",r=i.dropShadow&&i.dropShadowSteps?+i.dropShadowSteps:0,s,f,e,u;if(n.support.boxShadow)return r&&(o="1px 1px "+r+"px rgba(0,0,0,0.5)"),s=r===0?"0 0 ":"1px 1px ",t.css(n.support.boxShadow,o),!1;if(f=t.find(".cluetip-drop-shadow"),r==f.length)return f;for(f.remove(),e=[],u=0;u<r;)e[u++]='<div style="top:'+u+"px;left:"+u+'px;"><\/div>';return n(e.join("")).css({position:"absolute",backgroundColor:"#000",zIndex:v-1,opacity:.1}).addClass("cluetip-drop-shadow").prependTo(t)}var s,h,y,l,a,p,b,g;if(typeof e=="object"&&(o=e,e=null),e=="destroy")return b=this.data("cluetip"),b&&(n(b.selector).remove(),n.removeData(this,"title"),n.removeData(this,"cluetip")),n(document).unbind(".cluetip"),this.unbind(".cluetip");o=n.extend(!0,{},n.cluetip.defaults,o||{});u++;var v,d=n.cluetip.backCompat||!o.multiple?"cluetip":"cluetip-"+u,k="#"+d,c=n.cluetip.backCompat?"#":".",w=n.cluetip.setup.insertionType,nt=n.cluetip.setup.insertionElement||"body";return w=/appendTo|prependTo|insertBefore|insertAfter/.test(w)?w:"appendTo",s=n(k),s.length||(s=n(n.cluetip.template)[w](nt).attr("id",d).css({position:"absolute",display:"none"}),v=+o.cluezIndex,y=s.find(c+"cluetip-outer").css({position:"relative",zIndex:v}),h=s.find(c+"cluetip-inner"),l=s.find(c+"cluetip-title")),t=n("#cluetip-waitimage"),t.length||(t=n("<div><\/div>").attr("id","cluetip-waitimage").css({position:"absolute"})),t.insertBefore(s).hide(),g=(parseInt(s.css("paddingLeft"),10)||0)+(parseInt(s.css("paddingRight"),10)||0),this.each(function(u){function li(){return!1}function ai(n,t){var i=n.status;t.beforeSend(n.xhr,t);i=="error"?t[i](n.xhr,n.textStatus):i=="success"&&t[i](n.data,n.textStatus,n.xhr);t.complete(n.xhr,t.textStatus)}var rt=this,b=n(this),w=n.extend(!0,{},o,n.metadata?b.metadata():n.meta?b.data():b.data("cluetip")||{}),vt=!1,wt=!1,hi=0,nt=w[w.attribute]||(w.attribute=="href"?b.attr(w.attribute):b.attrProp(w.attribute)||b.attr(w.attribute)),gt=w.cluetipClass,si;if(v=+w.cluezIndex,b.data("cluetip",{title:rt.title,zIndex:v,selector:k}),!nt&&!w.splitTitle&&!e)return!0;w.local&&w.localPrefix&&(nt=w.localPrefix+nt);w.local&&w.hideLocal&&nt&&n(nt+":first").hide();var ot=parseInt(w.topOffset,10),lt=parseInt(w.leftOffset,10),at,ei,ti=isNaN(parseInt(w.height,10))?"auto":/\D/g.test(w.height)?w.height:w.height+"px",ii,ci,st,et,bt,ri,oi=parseInt(w.width,10)||275,ut=oi+g+w.dropShadowSteps,yt=this.offsetWidth,ht,d,ft,kt,pt,ct=w.attribute!="title"?b.attrProp(w.titleAttribute)||"":"";w.splitTitle&&(pt=ct.split(w.splitTitle),ct=w.showTitle||pt[0]===""?pt.shift():"");w.escapeTitle&&(ct=ct.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"));var ui=function(f){var v,at,p,si=w.onActivate.call(rt,f),g,it,fi,et;if(si===!1)return!1;if(wt=!0,s=n(k).css({position:"absolute"}),y=s.find(c+"cluetip-outer"),h=s.find(c+"cluetip-inner"),l=s.find(c+"cluetip-title"),a=s.find(c+"cluetip-arrows"),s.removeClass().css({width:oi}),nt==b.attr("href")&&b.css("cursor",w.cursor),w.hoverClass&&b.addClass(w.hoverClass),ci=st=b.offset().top,ht=b.offset().left,yt=b.innerWidth(),f.type==focus?(ft=ht+yt/2+lt,s.css({left:d}),bt=st+ot):(ft=f.pageX,bt=f.pageY),rt.tagName.toLowerCase()!="area"&&(ii=n(document).scrollTop(),kt=n(window).width()),w.positionBy=="fixed"?(d=yt+ht+lt,s.css({left:d})):(d=yt>ht&&ht>ut||ht+yt+ut+lt>kt?ht-ut-lt:yt+ht+lt,(rt.tagName.toLowerCase()=="area"||w.positionBy=="mouse"||yt+ut>kt)&&(ft+20+ut>kt?(s.addClass("cluetip-"+gt),d=ft-ut-lt>=0?ft-ut-lt-parseInt(s.css("marginLeft"),10)+parseInt(h.css("marginRight"),10):ft-ut/2):d=ft+lt),v=d<0?f.pageY+ot:f.pageY,(d<0||w.positionBy=="bottomTop")&&(d=ft+ut/2>kt?kt/2-ut/2:Math.max(ft-ut/2,0))),a.css({zIndex:b.data("cluetip").zIndex+1}),s.css({left:d,zIndex:b.data("cluetip").zIndex}),ei=n(window).height(),e)typeof e=="function"&&(e=e.call(rt)),h.html(e),dt(v);else if(pt){if(g=pt.length,h.html(g?pt[0]:""),g>1)for(it=1;it<g;it++)h.append('<div class="split-body">'+pt[it]+"<\/div>");dt(v)}else if(w.local||nt.indexOf("#")===0)w.local&&(et=n(nt+(/^#\S+$/.test(nt)?"":":eq("+u+")")).clone(!0).show(),w.localIdSuffix&&et.attr("id",et[0].id+w.localIdSuffix),h.html(et),dt(v));else if(/\.(jpe?g|tiff?|gif|png)(?:\?.*)?$/i.test(nt))h.html('<img src="'+nt+'" alt="'+ct+'" />'),dt(v);else{var ni=w.ajaxSettings.beforeSend,ti=w.ajaxSettings.error,ri=w.ajaxSettings.success,ui=w.ajaxSettings.complete;p=tt(nt,w.ajaxSettings.data);fi={cache:w.ajaxCache,url:nt,beforeSend:function(n,i){ni&&ni.call(rt,n,s,h,i);y.children().empty();w.waitImage&&t.css({top:bt+20,left:ft+20,zIndex:b.data("cluetip").zIndex-1}).show()},error:function(n,t){o.ajaxCache&&!i[p]&&(i[p]={status:"error",textStatus:t,xhr:n});wt&&(ti?ti.call(rt,n,t,s,h):h.html("<i>sorry, the contents could not be loaded<\/i>"))},success:function(n,t,r){o.ajaxCache&&!i[p]&&(i[p]={status:"success",data:n,textStatus:t,xhr:r});vt=w.ajaxProcess.call(rt,n);typeof vt=="object"&&vt!==null&&(ct=vt.title,vt=vt.content);wt&&(ri&&ri.call(rt,n,t,s,h),h.html(vt))},complete:function(i,u){var f,e,o;for(ui&&ui.call(rt,i,u,s,h),f=h[0].getElementsByTagName("img"),r=f.length,e=0,o=f.length;e<o;e++)f[e].complete&&r--;r&&!n.browser.opera?n(f).bind("load.ct error.ct",function(){r--;r===0&&(t.hide(),n(f).unbind(".ct"),wt&&dt(v))}):(t.hide(),wt&&dt(v))}};at=n.extend(!0,{},w.ajaxSettings,fi);i[p]?ai(i[p],at):n.ajax(at)}},dt=function(t){var r,e,o,c=ct||w.showTitle&&"&nbsp;",u="",i="",v;s.addClass("cluetip-"+gt);w.truncate&&(v=h.text().slice(0,w.truncate)+"...",h.html(v));c?l.show().html(c):l.hide();w.sticky&&(r=n('<div class="cluetip-close"><a href="#">'+w.closeText+"<\/a><\/div>"),w.closePosition=="bottom"?r.appendTo(h):w.closePosition=="title"?r.prependTo(l):r.prependTo(h),r.bind("click.cluetip",function(){return ni(),!1}),w.mouseOutClose?s.bind("mouseleave.cluetip",function(){ni()}):s.unbind("mouseleave.cluetip"));y.css({zIndex:b.data("cluetip").zIndex,overflow:ti=="auto"?"visible":"auto",height:ti});at=ti=="auto"?Math.max(s.outerHeight(),s.height()):parseInt(ti,10);et=st;ri=ii+ei;w.positionBy=="fixed"?et=st-w.dropShadowSteps+ot:d<ft&&Math.max(d,0)+ut>ft||w.positionBy=="bottomTop"?st+at+ot>ri&&bt-ii>at+ot?(et=bt-at-ot,i="top"):(et=bt+ot,i="bottom"):et=st+at+ot>ri?at>=ei?ii:ri-at-ot:b.css("display")=="block"||rt.tagName.toLowerCase()=="area"||w.positionBy=="mouse"?t-ot:st-w.dropShadowSteps;i===""&&(i=d<ht?"left":"right");e=" clue-"+i+"-"+gt+" cluetip-"+gt;gt=="rounded"&&(e+=" ui-corner-all");s.css({top:et+"px"}).attrProp({className:f+e});w.arrows?(/(left|right)/.test(i)&&(o=s.height()-a.height(),u=d>=0&&t>0?st-et-w.dropShadowSteps:0,u=(o>u?u:o)+"px"),a.css({top:u}).show()):a.hide();p=it(s,w);p&&p.length&&p.hide().css({height:at,width:oi,zIndex:b.data("cluetip").zIndex-1}).show();s.hide()[w.fx.open](w.fx.openSpeed||0);n.fn.bgiframe&&s.bgiframe();w.delayedClose>0&&(hi=setTimeout(ni,w.delayedClose));w.onShow.call(rt,s,h)},fi=function(){wt=!1;t.hide();(!w.sticky||/click|toggle/.test(w.activation))&&(ni(),clearTimeout(hi));w.hoverClass&&b.removeClass(w.hoverClass)},ni=function(t){var i=t&&t.data("cluetip")?t:b,u=i.data("cluetip")&&i.data("cluetip").selector,f=u||"div.cluetip",r=n(f),e=r.find(c+"cluetip-inner"),o=r.find(c+"cluetip-arrows");r.hide().removeClass();w.onHide.call(i[0],r,e);u&&(i.removeClass("cluetip-clicked"),i.css("cursor",""));u&&ct&&i.attrProp(w.titleAttribute,ct);w.arrows&&o.css({top:""})};n(document).unbind("hideCluetip.cluetip").bind("hideCluetip.cluetip",function(t){ni(n(t.target))});/click|toggle/.test(w.activation)?b.bind("click.cluetip",function(t){return s.is(":hidden")||!b.is(".cluetip-clicked")?(ui(t),n(".cluetip-clicked").removeClass("cluetip-clicked"),b.addClass("cluetip-clicked")):fi(t),!1}):w.activation=="focus"?(b.bind("focus.cluetip",function(n){b.attrProp("title","");ui(n)}),b.bind("blur.cluetip",function(n){b.attrProp("title",b.data("cluetip").title);fi(n)})):(b[w.clickThrough?"unbind":"bind"]("click.cluetip",li),si=function(n){if(w.tracking){var t=d-n.pageX,i=et?et-n.pageY:st-n.pageY;b.bind("mousemove.cluetip",function(n){s.css({left:n.pageX+t,top:n.pageY+i})})}},n.fn.hoverIntent&&w.hoverIntent?b.hoverIntent({sensitivity:w.hoverIntent.sensitivity,interval:w.hoverIntent.interval,over:function(n){ui(n);si(n)},timeout:w.hoverIntent.timeout,out:function(n){fi(n);b.unbind("mousemove.cluetip")}}):b.bind("mouseenter.cluetip",function(n){ui(n);si(n)}).bind("mouseleave.cluetip",function(n){fi(n);b.unbind("mousemove.cluetip")}),b.bind("mouseover.cluetip",function(){b.attrProp("title","")}).bind("mouseleave.cluetip",function(){b.attrProp("title",b.data("cluetip").title)}))}),this},function(){var r,h,t,f,i,c;n.support=n.support||{};var e=document.createElement("div"),o=e.style,s=["boxShadow"],u=["moz","Moz","webkit","o"];for(r=0,h=s.length;r<h;r++)if(t=s[r],f=t.charAt(0).toUpperCase()+t.slice(1),typeof o[t]!="undefined")n.support[t]=t;else for(i=0,c=u.length;i<c;i++)if(typeof o[u[i]+f]!="undefined"){n.support[t]=u[i]+f;break}e=null}();n.fn.cluetip.defaults=n.cluetip.defaults})(jQuery);
/*!
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function s(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.substr(0,n.lastIndexOf(".")+1)}function e(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function h(t,i){var r=n(this).find("[data-valmsg-for='"+i[0].name+"']"),u=n.parseJSON(r.attr("data-valmsg-replace"))!==!1;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);u?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function c(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function l(t){var i=t.data("unobtrusiveContainer"),r=n.parseJSON(i.attr("data-valmsg-replace"));i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),r&&i.empty())}function o(t){var i=n(t),r=i.data(u);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(h,t),invalidHandler:n.proxy(c,t),messages:{},rules:{},success:n.proxy(l,t)},attachValidation:function(){i.validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,s;f&&(r=o(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=s={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),o={};r!==undefined&&(i+="-",n.each(this.params,function(){o[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:o,rules:e,messages:s}))}),jQuery.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){n(t).find(":input[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});n("form").each(function(){var n=o(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)});t.addSingleVal("accept","exts").addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.add("equalto",["other"],function(t){var r=f(t.element.name),u=t.params.other,o=e(u,r),s=n(t.form).find(":input[name="+o+"]")[0];i(t,"equalTo",s)});t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=f(t.element.name);n.each(s(t.params.additionalfields||t.element.name),function(i,f){var o=e(f,u);r.data[o]=function(){return n(t.form).find(":input[name='"+o+"']").val()}});i(t,"remote",r)});n(function(){r.unobtrusive.parse(document)})})(jQuery);jQuery.validator.unobtrusive.adapters.add("checkboxchecked",function(n){n.element.tagName.toUpperCase()=="INPUT"&&n.element.type.toUpperCase()=="CHECKBOX"&&(n.rules.required=!0,n.message&&(n.messages.required=n.message))})